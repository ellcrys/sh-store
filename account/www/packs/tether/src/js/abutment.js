/* globals TetherBase */
var _b = TetherBase.Utils, getBounds = _b.getBounds, updateClasses = _b.updateClasses, defer = _b.defer;
TetherBase.modules.push({
    position: function (_b) {
        var _this = this;
        var top = _b.top, left = _b.left;
        var _c = this.cache('element-bounds', function () {
            return getBounds(_this.element);
        }), height = _c.height, width = _c.width;
        var targetPos = this.getTargetBounds();
        var bottom = top + height;
        var right = left + width;
        var abutted = [];
        if (top <= targetPos.bottom && bottom >= targetPos.top) {
            ['left', 'right'].forEach(function (side) {
                var targetPosSide = targetPos[side];
                if (targetPosSide === left || targetPosSide === right) {
                    abutted.push(side);
                }
            });
        }
        if (left <= targetPos.right && right >= targetPos.left) {
            ['top', 'bottom'].forEach(function (side) {
                var targetPosSide = targetPos[side];
                if (targetPosSide === top || targetPosSide === bottom) {
                    abutted.push(side);
                }
            });
        }
        var allClasses = [];
        var addClasses = [];
        var sides = ['left', 'top', 'right', 'bottom'];
        allClasses.push(this.getClass('abutted'));
        sides.forEach(function (side) {
            allClasses.push(_this.getClass('abutted') + "-" + side);
        });
        if (abutted.length) {
            addClasses.push(this.getClass('abutted'));
        }
        abutted.forEach(function (side) {
            addClasses.push(_this.getClass('abutted') + "-" + side);
        });
        defer(function () {
            if (!(_this.options.addTargetClasses === false)) {
                updateClasses(_this.target, addClasses, allClasses);
            }
            updateClasses(_this.element, addClasses, allClasses);
        });
        return true;
    }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInd3dy9wYWNrcy90ZXRoZXIvc3JjL2pzL2FidXRtZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHdCQUF3QjtBQUVsQixJQUFBLHFCQUFvRCxFQUFuRCx3QkFBUyxFQUFFLGdDQUFhLEVBQUUsZ0JBQUssQ0FBcUI7QUFFM0QsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7SUFDdEIsUUFBUSxZQUFDLEVBQVc7UUFBcEIsaUJBc0RDO1lBdERTLFlBQUcsRUFBRSxjQUFJO1FBQ1gsSUFBQTs7VUFFSixFQUZLLGtCQUFNLEVBQUUsZ0JBQUssQ0FFakI7UUFFSCxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFFekMsSUFBTSxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQztRQUM1QixJQUFNLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxDQUFDO1FBRTNCLElBQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNuQixFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksU0FBUyxDQUFDLE1BQU0sSUFBSSxNQUFNLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdkQsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUEsSUFBSTtnQkFDNUIsSUFBTSxhQUFhLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN0QyxFQUFFLENBQUMsQ0FBQyxhQUFhLEtBQUssSUFBSSxJQUFJLGFBQWEsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUN0RCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNyQixDQUFDO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLFNBQVMsQ0FBQyxLQUFLLElBQUksS0FBSyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3ZELENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUk7Z0JBQzVCLElBQU0sYUFBYSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDdEMsRUFBRSxDQUFDLENBQUMsYUFBYSxLQUFLLEdBQUcsSUFBSSxhQUFhLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQztvQkFDdEQsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDckIsQ0FBQztZQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUVELElBQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUN0QixJQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFFdEIsSUFBTSxLQUFLLEdBQUcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztRQUNqRCxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUMxQyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQUEsSUFBSTtZQUNoQixVQUFVLENBQUMsSUFBSSxDQUFLLEtBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFNBQU0sSUFBTyxDQUFDLENBQUM7UUFDN0QsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNuQixVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUM1QyxDQUFDO1FBRUQsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUk7WUFDbEIsVUFBVSxDQUFDLElBQUksQ0FBSyxLQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxTQUFNLElBQU8sQ0FBQyxDQUFDO1FBQzdELENBQUMsQ0FBQyxDQUFDO1FBRUgsS0FBSyxDQUFDO1lBQ0osRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMvQyxhQUFhLENBQUMsS0FBSSxDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFDckQsQ0FBQztZQUNELGFBQWEsQ0FBQyxLQUFJLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUN0RCxDQUFDLENBQUMsQ0FBQztRQUVILE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDZCxDQUFDO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ind3dy9wYWNrcy90ZXRoZXIvc3JjL2pzL2FidXRtZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBUZXRoZXJCYXNlICovXG5cbmNvbnN0IHtnZXRCb3VuZHMsIHVwZGF0ZUNsYXNzZXMsIGRlZmVyfSA9IFRldGhlckJhc2UuVXRpbHM7XG5cblRldGhlckJhc2UubW9kdWxlcy5wdXNoKHtcbiAgcG9zaXRpb24oe3RvcCwgbGVmdH0pIHtcbiAgICBjb25zdCB7aGVpZ2h0LCB3aWR0aH0gPSB0aGlzLmNhY2hlKCdlbGVtZW50LWJvdW5kcycsICgpID0+IHtcbiAgICAgIHJldHVybiBnZXRCb3VuZHModGhpcy5lbGVtZW50KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRhcmdldFBvcyA9IHRoaXMuZ2V0VGFyZ2V0Qm91bmRzKCk7XG5cbiAgICBjb25zdCBib3R0b20gPSB0b3AgKyBoZWlnaHQ7XG4gICAgY29uc3QgcmlnaHQgPSBsZWZ0ICsgd2lkdGg7XG5cbiAgICBjb25zdCBhYnV0dGVkID0gW107XG4gICAgaWYgKHRvcCA8PSB0YXJnZXRQb3MuYm90dG9tICYmIGJvdHRvbSA+PSB0YXJnZXRQb3MudG9wKSB7XG4gICAgICBbJ2xlZnQnLCAncmlnaHQnXS5mb3JFYWNoKHNpZGUgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRQb3NTaWRlID0gdGFyZ2V0UG9zW3NpZGVdO1xuICAgICAgICBpZiAodGFyZ2V0UG9zU2lkZSA9PT0gbGVmdCB8fCB0YXJnZXRQb3NTaWRlID09PSByaWdodCkge1xuICAgICAgICAgIGFidXR0ZWQucHVzaChzaWRlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGxlZnQgPD0gdGFyZ2V0UG9zLnJpZ2h0ICYmIHJpZ2h0ID49IHRhcmdldFBvcy5sZWZ0KSB7XG4gICAgICBbJ3RvcCcsICdib3R0b20nXS5mb3JFYWNoKHNpZGUgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRQb3NTaWRlID0gdGFyZ2V0UG9zW3NpZGVdO1xuICAgICAgICBpZiAodGFyZ2V0UG9zU2lkZSA9PT0gdG9wIHx8IHRhcmdldFBvc1NpZGUgPT09IGJvdHRvbSkge1xuICAgICAgICAgIGFidXR0ZWQucHVzaChzaWRlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWxsQ2xhc3NlcyA9IFtdO1xuICAgIGNvbnN0IGFkZENsYXNzZXMgPSBbXTtcblxuICAgIGNvbnN0IHNpZGVzID0gWydsZWZ0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nXTtcbiAgICBhbGxDbGFzc2VzLnB1c2godGhpcy5nZXRDbGFzcygnYWJ1dHRlZCcpKTtcbiAgICBzaWRlcy5mb3JFYWNoKHNpZGUgPT4ge1xuICAgICAgYWxsQ2xhc3Nlcy5wdXNoKGAkeyB0aGlzLmdldENsYXNzKCdhYnV0dGVkJykgfS0keyBzaWRlIH1gKTtcbiAgICB9KTtcblxuICAgIGlmIChhYnV0dGVkLmxlbmd0aCkge1xuICAgICAgYWRkQ2xhc3Nlcy5wdXNoKHRoaXMuZ2V0Q2xhc3MoJ2FidXR0ZWQnKSk7XG4gICAgfVxuXG4gICAgYWJ1dHRlZC5mb3JFYWNoKHNpZGUgPT4ge1xuICAgICAgYWRkQ2xhc3Nlcy5wdXNoKGAkeyB0aGlzLmdldENsYXNzKCdhYnV0dGVkJykgfS0keyBzaWRlIH1gKTtcbiAgICB9KTtcblxuICAgIGRlZmVyKCgpID0+IHtcbiAgICAgIGlmICghKHRoaXMub3B0aW9ucy5hZGRUYXJnZXRDbGFzc2VzID09PSBmYWxzZSkpIHtcbiAgICAgICAgdXBkYXRlQ2xhc3Nlcyh0aGlzLnRhcmdldCwgYWRkQ2xhc3NlcywgYWxsQ2xhc3Nlcyk7XG4gICAgICB9XG4gICAgICB1cGRhdGVDbGFzc2VzKHRoaXMuZWxlbWVudCwgYWRkQ2xhc3NlcywgYWxsQ2xhc3Nlcyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iXX0=

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInd3dy9wYWNrcy90ZXRoZXIvc3JjL2pzL2FidXRtZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHdCQUF3QjtBQUN4QixJQUFJLEVBQUUsR0FBRyxVQUFVLENBQUMsS0FBSyxFQUFFLFNBQVMsR0FBRyxFQUFFLENBQUMsU0FBUyxFQUFFLGFBQWEsR0FBRyxFQUFFLENBQUMsYUFBYSxFQUFFLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQ3hHLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO0lBQ3BCLFFBQVEsRUFBRSxVQUFVLEVBQUU7UUFDbEIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7UUFDakMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRTtZQUNsQyxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwQyxDQUFDLENBQUMsRUFBRSxNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQztRQUN6QyxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQztRQUMxQixJQUFJLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNqQixFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksU0FBUyxDQUFDLE1BQU0sSUFBSSxNQUFNLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDckQsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsSUFBSTtnQkFDcEMsSUFBSSxhQUFhLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNwQyxFQUFFLENBQUMsQ0FBQyxhQUFhLEtBQUssSUFBSSxJQUFJLGFBQWEsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNwRCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN2QixDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBQ0QsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLFNBQVMsQ0FBQyxLQUFLLElBQUksS0FBSyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3JELENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUk7Z0JBQ3BDLElBQUksYUFBYSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDcEMsRUFBRSxDQUFDLENBQUMsYUFBYSxLQUFLLEdBQUcsSUFBSSxhQUFhLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQztvQkFDcEQsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDdkIsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQUNELElBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFDcEIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztRQUMvQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUMxQyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsSUFBSTtZQUN4QixVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQzVELENBQUMsQ0FBQyxDQUFDO1FBQ0gsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDakIsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDOUMsQ0FBQztRQUNELE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBVSxJQUFJO1lBQzFCLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDNUQsQ0FBQyxDQUFDLENBQUM7UUFDSCxLQUFLLENBQUM7WUFDRixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzlDLGFBQWEsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUN4RCxDQUFDO1lBQ0QsYUFBYSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ3pELENBQUMsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0NBQ0osQ0FBQyxDQUFDO0FBRUgsMi9KQUEyL0oiLCJmaWxlIjoid3d3L3BhY2tzL3RldGhlci9zcmMvanMvYWJ1dG1lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIFRldGhlckJhc2UgKi9cbnZhciBfYiA9IFRldGhlckJhc2UuVXRpbHMsIGdldEJvdW5kcyA9IF9iLmdldEJvdW5kcywgdXBkYXRlQ2xhc3NlcyA9IF9iLnVwZGF0ZUNsYXNzZXMsIGRlZmVyID0gX2IuZGVmZXI7XG5UZXRoZXJCYXNlLm1vZHVsZXMucHVzaCh7XG4gICAgcG9zaXRpb246IGZ1bmN0aW9uIChfYikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdG9wID0gX2IudG9wLCBsZWZ0ID0gX2IubGVmdDtcbiAgICAgICAgdmFyIF9jID0gdGhpcy5jYWNoZSgnZWxlbWVudC1ib3VuZHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Qm91bmRzKF90aGlzLmVsZW1lbnQpO1xuICAgICAgICB9KSwgaGVpZ2h0ID0gX2MuaGVpZ2h0LCB3aWR0aCA9IF9jLndpZHRoO1xuICAgICAgICB2YXIgdGFyZ2V0UG9zID0gdGhpcy5nZXRUYXJnZXRCb3VuZHMoKTtcbiAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDtcbiAgICAgICAgdmFyIHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xuICAgICAgICB2YXIgYWJ1dHRlZCA9IFtdO1xuICAgICAgICBpZiAodG9wIDw9IHRhcmdldFBvcy5ib3R0b20gJiYgYm90dG9tID49IHRhcmdldFBvcy50b3ApIHtcbiAgICAgICAgICAgIFsnbGVmdCcsICdyaWdodCddLmZvckVhY2goZnVuY3Rpb24gKHNpZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0UG9zU2lkZSA9IHRhcmdldFBvc1tzaWRlXTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0UG9zU2lkZSA9PT0gbGVmdCB8fCB0YXJnZXRQb3NTaWRlID09PSByaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBhYnV0dGVkLnB1c2goc2lkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlZnQgPD0gdGFyZ2V0UG9zLnJpZ2h0ICYmIHJpZ2h0ID49IHRhcmdldFBvcy5sZWZ0KSB7XG4gICAgICAgICAgICBbJ3RvcCcsICdib3R0b20nXS5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldFBvc1NpZGUgPSB0YXJnZXRQb3Nbc2lkZV07XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldFBvc1NpZGUgPT09IHRvcCB8fCB0YXJnZXRQb3NTaWRlID09PSBib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgYWJ1dHRlZC5wdXNoKHNpZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbGxDbGFzc2VzID0gW107XG4gICAgICAgIHZhciBhZGRDbGFzc2VzID0gW107XG4gICAgICAgIHZhciBzaWRlcyA9IFsnbGVmdCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJ107XG4gICAgICAgIGFsbENsYXNzZXMucHVzaCh0aGlzLmdldENsYXNzKCdhYnV0dGVkJykpO1xuICAgICAgICBzaWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgICAgICBhbGxDbGFzc2VzLnB1c2goX3RoaXMuZ2V0Q2xhc3MoJ2FidXR0ZWQnKSArIFwiLVwiICsgc2lkZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYWJ1dHRlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZENsYXNzZXMucHVzaCh0aGlzLmdldENsYXNzKCdhYnV0dGVkJykpO1xuICAgICAgICB9XG4gICAgICAgIGFidXR0ZWQuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcy5wdXNoKF90aGlzLmdldENsYXNzKCdhYnV0dGVkJykgKyBcIi1cIiArIHNpZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCEoX3RoaXMub3B0aW9ucy5hZGRUYXJnZXRDbGFzc2VzID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVDbGFzc2VzKF90aGlzLnRhcmdldCwgYWRkQ2xhc3NlcywgYWxsQ2xhc3Nlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVDbGFzc2VzKF90aGlzLmVsZW1lbnQsIGFkZENsYXNzZXMsIGFsbENsYXNzZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zjg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW5kM2R5OXdZV05yY3k5MFpYUm9aWEl2YzNKakwycHpMMkZpZFhSdFpXNTBMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQkxIZENRVUYzUWp0QlFVVnNRaXhKUVVGQkxIRkNRVUZ2UkN4RlFVRnVSQ3gzUWtGQlV5eEZRVUZGTEdkRFFVRmhMRVZCUVVVc1owSkJRVXNzUTBGQmNVSTdRVUZGTTBRc1ZVRkJWU3hEUVVGRExFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTTdTVUZEZEVJc1VVRkJVU3haUVVGRExFVkJRVmM3VVVGQmNFSXNhVUpCYzBSRE8xbEJkRVJUTEZsQlFVY3NSVUZCUlN4alFVRkpPMUZCUTFnc1NVRkJRVHM3VlVGRlNpeEZRVVpMTEd0Q1FVRk5MRVZCUVVVc1owSkJRVXNzUTBGRmFrSTdVVUZGU0N4SlFVRk5MRk5CUVZNc1IwRkJSeXhKUVVGSkxFTkJRVU1zWlVGQlpTeEZRVUZGTEVOQlFVTTdVVUZGZWtNc1NVRkJUU3hOUVVGTkxFZEJRVWNzUjBGQlJ5eEhRVUZITEUxQlFVMHNRMEZCUXp0UlFVTTFRaXhKUVVGTkxFdEJRVXNzUjBGQlJ5eEpRVUZKTEVkQlFVY3NTMEZCU3l4RFFVRkRPMUZCUlROQ0xFbEJRVTBzVDBGQlR5eEhRVUZITEVWQlFVVXNRMEZCUXp0UlFVTnVRaXhGUVVGRkxFTkJRVU1zUTBGQlF5eEhRVUZITEVsQlFVa3NVMEZCVXl4RFFVRkRMRTFCUVUwc1NVRkJTU3hOUVVGTkxFbEJRVWtzVTBGQlV5eERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRMRU5CUVVNN1dVRkRka1FzUTBGQlF5eE5RVUZOTEVWQlFVVXNUMEZCVHl4RFFVRkRMRU5CUVVNc1QwRkJUeXhEUVVGRExGVkJRVUVzU1VGQlNUdG5Ra0ZETlVJc1NVRkJUU3hoUVVGaExFZEJRVWNzVTBGQlV5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMmRDUVVOMFF5eEZRVUZGTEVOQlFVTXNRMEZCUXl4aFFVRmhMRXRCUVVzc1NVRkJTU3hKUVVGSkxHRkJRV0VzUzBGQlN5eExRVUZMTEVOQlFVTXNRMEZCUXl4RFFVRkRPMjlDUVVOMFJDeFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8yZENRVU55UWl4RFFVRkRPMWxCUTBnc1EwRkJReXhEUVVGRExFTkJRVU03VVVGRFRDeERRVUZETzFGQlJVUXNSVUZCUlN4RFFVRkRMRU5CUVVNc1NVRkJTU3hKUVVGSkxGTkJRVk1zUTBGQlF5eExRVUZMTEVsQlFVa3NTMEZCU3l4SlFVRkpMRk5CUVZNc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF5eERRVUZETzFsQlEzWkVMRU5CUVVNc1MwRkJTeXhGUVVGRkxGRkJRVkVzUTBGQlF5eERRVUZETEU5QlFVOHNRMEZCUXl4VlFVRkJMRWxCUVVrN1owSkJRelZDTEVsQlFVMHNZVUZCWVN4SFFVRkhMRk5CUVZNc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dG5Ra0ZEZEVNc1JVRkJSU3hEUVVGRExFTkJRVU1zWVVGQllTeExRVUZMTEVkQlFVY3NTVUZCU1N4aFFVRmhMRXRCUVVzc1RVRkJUU3hEUVVGRExFTkJRVU1zUTBGQlF6dHZRa0ZEZEVRc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXp0blFrRkRja0lzUTBGQlF6dFpRVU5JTEVOQlFVTXNRMEZCUXl4RFFVRkRPMUZCUTB3c1EwRkJRenRSUVVWRUxFbEJRVTBzVlVGQlZTeEhRVUZITEVWQlFVVXNRMEZCUXp0UlFVTjBRaXhKUVVGTkxGVkJRVlVzUjBGQlJ5eEZRVUZGTEVOQlFVTTdVVUZGZEVJc1NVRkJUU3hMUVVGTExFZEJRVWNzUTBGQlF5eE5RVUZOTEVWQlFVVXNTMEZCU3l4RlFVRkZMRTlCUVU4c1JVRkJSU3hSUVVGUkxFTkJRVU1zUTBGQlF6dFJRVU5xUkN4VlFVRlZMRU5CUVVNc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eFJRVUZSTEVOQlFVTXNVMEZCVXl4RFFVRkRMRU5CUVVNc1EwRkJRenRSUVVNeFF5eExRVUZMTEVOQlFVTXNUMEZCVHl4RFFVRkRMRlZCUVVFc1NVRkJTVHRaUVVOb1FpeFZRVUZWTEVOQlFVTXNTVUZCU1N4RFFVRkxMRXRCUVVrc1EwRkJReXhSUVVGUkxFTkJRVU1zVTBGQlV5eERRVUZETEZOQlFVMHNTVUZCVHl4RFFVRkRMRU5CUVVNN1VVRkROMFFzUTBGQlF5eERRVUZETEVOQlFVTTdVVUZGU0N4RlFVRkZMRU5CUVVNc1EwRkJReXhQUVVGUExFTkJRVU1zVFVGQlRTeERRVUZETEVOQlFVTXNRMEZCUXp0WlFVTnVRaXhWUVVGVkxFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1UwRkJVeXhEUVVGRExFTkJRVU1zUTBGQlF6dFJRVU0xUXl4RFFVRkRPMUZCUlVRc1QwRkJUeXhEUVVGRExFOUJRVThzUTBGQlF5eFZRVUZCTEVsQlFVazdXVUZEYkVJc1ZVRkJWU3hEUVVGRExFbEJRVWtzUTBGQlN5eExRVUZKTEVOQlFVTXNVVUZCVVN4RFFVRkRMRk5CUVZNc1EwRkJReXhUUVVGTkxFbEJRVThzUTBGQlF5eERRVUZETzFGQlF6ZEVMRU5CUVVNc1EwRkJReXhEUVVGRE8xRkJSVWdzUzBGQlN5eERRVUZETzFsQlEwb3NSVUZCUlN4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRExFdEJRVWtzUTBGQlF5eFBRVUZQTEVOQlFVTXNaMEpCUVdkQ0xFdEJRVXNzUzBGQlN5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMmRDUVVNdlF5eGhRVUZoTEVOQlFVTXNTMEZCU1N4RFFVRkRMRTFCUVUwc1JVRkJSU3hWUVVGVkxFVkJRVVVzVlVGQlZTeERRVUZETEVOQlFVTTdXVUZEY2tRc1EwRkJRenRaUVVORUxHRkJRV0VzUTBGQlF5eExRVUZKTEVOQlFVTXNUMEZCVHl4RlFVRkZMRlZCUVZVc1JVRkJSU3hWUVVGVkxFTkJRVU1zUTBGQlF6dFJRVU4wUkN4RFFVRkRMRU5CUVVNc1EwRkJRenRSUVVWSUxFMUJRVTBzUTBGQlF5eEpRVUZKTEVOQlFVTTdTVUZEWkN4RFFVRkRPME5CUTBZc1EwRkJReXhEUVVGRElpd2labWxzWlNJNkluZDNkeTl3WVdOcmN5OTBaWFJvWlhJdmMzSmpMMnB6TDJGaWRYUnRaVzUwTG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lMeW9nWjJ4dlltRnNjeUJVWlhSb1pYSkNZWE5sSUNvdlhHNWNibU52Ym5OMElIdG5aWFJDYjNWdVpITXNJSFZ3WkdGMFpVTnNZWE56WlhNc0lHUmxabVZ5ZlNBOUlGUmxkR2hsY2tKaGMyVXVWWFJwYkhNN1hHNWNibFJsZEdobGNrSmhjMlV1Ylc5a2RXeGxjeTV3ZFhOb0tIdGNiaUFnY0c5emFYUnBiMjRvZTNSdmNDd2diR1ZtZEgwcElIdGNiaUFnSUNCamIyNXpkQ0I3YUdWcFoyaDBMQ0IzYVdSMGFIMGdQU0IwYUdsekxtTmhZMmhsS0NkbGJHVnRaVzUwTFdKdmRXNWtjeWNzSUNncElEMCtJSHRjYmlBZ0lDQWdJSEpsZEhWeWJpQm5aWFJDYjNWdVpITW9kR2hwY3k1bGJHVnRaVzUwS1R0Y2JpQWdJQ0I5S1R0Y2JseHVJQ0FnSUdOdmJuTjBJSFJoY21kbGRGQnZjeUE5SUhSb2FYTXVaMlYwVkdGeVoyVjBRbTkxYm1SektDazdYRzVjYmlBZ0lDQmpiMjV6ZENCaWIzUjBiMjBnUFNCMGIzQWdLeUJvWldsbmFIUTdYRzRnSUNBZ1kyOXVjM1FnY21sbmFIUWdQU0JzWldaMElDc2dkMmxrZEdnN1hHNWNiaUFnSUNCamIyNXpkQ0JoWW5WMGRHVmtJRDBnVzEwN1hHNGdJQ0FnYVdZZ0tIUnZjQ0E4UFNCMFlYSm5aWFJRYjNNdVltOTBkRzl0SUNZbUlHSnZkSFJ2YlNBK1BTQjBZWEpuWlhSUWIzTXVkRzl3S1NCN1hHNGdJQ0FnSUNCYkoyeGxablFuTENBbmNtbG5hSFFuWFM1bWIzSkZZV05vS0hOcFpHVWdQVDRnZTF4dUlDQWdJQ0FnSUNCamIyNXpkQ0IwWVhKblpYUlFiM05UYVdSbElEMGdkR0Z5WjJWMFVHOXpXM05wWkdWZE8xeHVJQ0FnSUNBZ0lDQnBaaUFvZEdGeVoyVjBVRzl6VTJsa1pTQTlQVDBnYkdWbWRDQjhmQ0IwWVhKblpYUlFiM05UYVdSbElEMDlQU0J5YVdkb2RDa2dlMXh1SUNBZ0lDQWdJQ0FnSUdGaWRYUjBaV1F1Y0hWemFDaHphV1JsS1R0Y2JpQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ2ZTazdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ2FXWWdLR3hsWm5RZ1BEMGdkR0Z5WjJWMFVHOXpMbkpwWjJoMElDWW1JSEpwWjJoMElENDlJSFJoY21kbGRGQnZjeTVzWldaMEtTQjdYRzRnSUNBZ0lDQmJKM1J2Y0Njc0lDZGliM1IwYjIwblhTNW1iM0pGWVdOb0tITnBaR1VnUFQ0Z2UxeHVJQ0FnSUNBZ0lDQmpiMjV6ZENCMFlYSm5aWFJRYjNOVGFXUmxJRDBnZEdGeVoyVjBVRzl6VzNOcFpHVmRPMXh1SUNBZ0lDQWdJQ0JwWmlBb2RHRnlaMlYwVUc5elUybGtaU0E5UFQwZ2RHOXdJSHg4SUhSaGNtZGxkRkJ2YzFOcFpHVWdQVDA5SUdKdmRIUnZiU2tnZTF4dUlDQWdJQ0FnSUNBZ0lHRmlkWFIwWldRdWNIVnphQ2h6YVdSbEtUdGNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdmU2s3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdZMjl1YzNRZ1lXeHNRMnhoYzNObGN5QTlJRnRkTzF4dUlDQWdJR052Ym5OMElHRmtaRU5zWVhOelpYTWdQU0JiWFR0Y2JseHVJQ0FnSUdOdmJuTjBJSE5wWkdWeklEMGdXeWRzWldaMEp5d2dKM1J2Y0Njc0lDZHlhV2RvZENjc0lDZGliM1IwYjIwblhUdGNiaUFnSUNCaGJHeERiR0Z6YzJWekxuQjFjMmdvZEdocGN5NW5aWFJEYkdGemN5Z25ZV0oxZEhSbFpDY3BLVHRjYmlBZ0lDQnphV1JsY3k1bWIzSkZZV05vS0hOcFpHVWdQVDRnZTF4dUlDQWdJQ0FnWVd4c1EyeGhjM05sY3k1d2RYTm9LR0FrZXlCMGFHbHpMbWRsZEVOc1lYTnpLQ2RoWW5WMGRHVmtKeWtnZlMwa2V5QnphV1JsSUgxZ0tUdGNiaUFnSUNCOUtUdGNibHh1SUNBZ0lHbG1JQ2hoWW5WMGRHVmtMbXhsYm1kMGFDa2dlMXh1SUNBZ0lDQWdZV1JrUTJ4aGMzTmxjeTV3ZFhOb0tIUm9hWE11WjJWMFEyeGhjM01vSjJGaWRYUjBaV1FuS1NrN1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnWVdKMWRIUmxaQzVtYjNKRllXTm9LSE5wWkdVZ1BUNGdlMXh1SUNBZ0lDQWdZV1JrUTJ4aGMzTmxjeTV3ZFhOb0tHQWtleUIwYUdsekxtZGxkRU5zWVhOektDZGhZblYwZEdWa0p5a2dmUzBrZXlCemFXUmxJSDFnS1R0Y2JpQWdJQ0I5S1R0Y2JseHVJQ0FnSUdSbFptVnlLQ2dwSUQwK0lIdGNiaUFnSUNBZ0lHbG1JQ2doS0hSb2FYTXViM0IwYVc5dWN5NWhaR1JVWVhKblpYUkRiR0Z6YzJWeklEMDlQU0JtWVd4elpTa3BJSHRjYmlBZ0lDQWdJQ0FnZFhCa1lYUmxRMnhoYzNObGN5aDBhR2x6TG5SaGNtZGxkQ3dnWVdSa1EyeGhjM05sY3l3Z1lXeHNRMnhoYzNObGN5azdYRzRnSUNBZ0lDQjlYRzRnSUNBZ0lDQjFjR1JoZEdWRGJHRnpjMlZ6S0hSb2FYTXVaV3hsYldWdWRDd2dZV1JrUTJ4aGMzTmxjeXdnWVd4c1EyeGhjM05sY3lrN1hHNGdJQ0FnZlNrN1hHNWNiaUFnSUNCeVpYUjFjbTRnZEhKMVpUdGNiaUFnZlZ4dWZTazdYRzRpWFgwPVxuIl19
